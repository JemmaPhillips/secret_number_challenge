<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Number</title>
    <style>
        .options {
            display: flex;
            justify-content: center;
        }

        body {
        background-color: rgb(173, 219, 219);
}
    </style>
    <h1 style="color:seagreen;">Secret Number</h1>
</head>
<body>

    <form>  
        <label style="color:seagreen;" for="number">Enter a number between 0 - 10:</label>
        <input style="color:seagreen;" type="number" name="number" id="number" required>
        <input style="color:seagreen;" type="button" name="submit" value="Submit" id="userSubmit">
    </form>

   <br>
    <!-- Info -->
    <h2 style="color:seagreen;">Your Choice: <span data-cy="user" id="user-choice"></span></h2>
    <h2 style="color:seagreen;">Computer Choice: <span data-cy="computer" id="computer-choice"></span></h2>
    <h2 style="color:seagreen;">Response: <span data-cy="result" id="result"></span></h2>
    <!-- Display number of attempts left -->
    <h2 style="color:seagreen;">Attempts Left: <span data-cy="attempts" id="attempts">3</span></h2>

    <script>
        // 
        document.addEventListener('DOMContentLoaded', function () {
            // get the submit button
            const submitBtn = document.getElementById("userSubmit");
            // Get the span elements to display user choice 
            const userChoiceSpan = document.getElementById("user-choice");
            // Get the span elements to display computer choice 
            const computerChoiceSpan = document.getElementById("computer-choice");
            // Get the span elements to display result
            const resultSpan = document.getElementById("result");
            // Get the span elements to display user attempts 
            const attemptsSpan = document.getElementById("attempts");

            // Define the options for the game
            const options = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10"];
            let attemptsLeft = 2;
            let computerChoice = options[Math.floor(Math.random() * options.length)]; // Generate random computer choice

            // Add click event listener to the submit button
            submitBtn.addEventListener("click", function () {
                 // Parse userChoice to integer (changes string to number)
                const userChoice = parseInt(document.getElementById("number").value);
                if (userChoice >= 0 && userChoice <= 10) {
                    playGame(userChoice); // Call the playGame function with the user's choice
                } else {
                    resultSpan.innerHTML = "Please enter a number between 0 and 10.";
                }
            });

             // Function to play the game
            function playGame(userChoice) {

                const computerChoiceInt = parseInt(computerChoice); // Parse computerChoice to integer (changes string to number)

                userChoiceSpan.innerHTML = userChoice; // Display user choice

                // Compare user's choice with computer's choice and display result
                if (attemptsLeft > 0) {
                    if (userChoice === computerChoiceInt) {
                        resultSpan.innerHTML = "Your answer is correct!";
                        return;
                    } else if (userChoice > computerChoiceInt) {
                        resultSpan.innerHTML = "The correct answer is lower. Try again!";
                    } else if (userChoice < computerChoiceInt) {
                        resultSpan.innerHTML = "The correct answer is higher. Try again!";
                    }
                    attemptsLeft--;
                    attemptsSpan.innerHTML = attemptsLeft;
                } else {
                    resultSpan.innerHTML = "Out of attempts!";
                    computerChoiceSpan.innerHTML = computerChoice; // Display computer's choice when no attempts are left
                }
            }
        });
    </script>

</body>
</html>
